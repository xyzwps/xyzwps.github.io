---
title: Backends for Frontends Pattern
translateFrom: https://docs.microsoft.com/en-us/azure/architecture/patterns/backends-for-frontends
---

创建单独的后端服务，供特定的前端应用程序或接口使用。
当您希望避免为多个接口自定义单个后端时，此模式非常有用。
这种模式最初是由 Sam Newman 描述的。

# 问题背景

一个应用程序最初可能是针对桌面 web UI 的。
通常，后端服务是并行开发的，它提供了该 UI 所需的特性。
随着应用程序用户基数的增长，开发的移动应用程序必须与相同的后端进行交互。
后端服务成为一个通用的后端，同时满足桌面和移动接口的需求。

但是移动设备的功能与桌面浏览器在屏幕大小、性能和显示限制方面有很大不同。
因此，对移动应用程序后端的要求不同于桌面 web UI。

这些差异导致对后端的竞争需求。
后端需要定期和重大的变化，以服务桌面 web UI 和移动应用程序。
通常，不同的接口团队在每个前端上工作，导致后端成为开发过程中的瓶颈。
相互冲突的更新需求，以及保持服务在两个前端工作的需求，可能导致在单个可部署资源上花费大量精力。

![Backend for frontend](/asset/img/backend-for-frontend.png)

由于开发活动的重点是后端服务，因此可以创建一个单独的团队来管理和维护后端。
最终，这将导致接口和后端开发团队之间的断开，给后端团队增加了平衡不同 UI 团队相互竞争的需求的负担。
当一个接口团队需要对后端进行更改时，这些更改必须在集成到后端之前与其他接口团队进行验证。

# 解决方案

为每个用户界面创建一个后端。
微调每个后端的行为和性能，以最好地匹配前端环境的需求，而不用担心影响其他前端体验。

![Backend for frontend example](/asset/img/backend-for-frontend-example.png)

因为每个后端都特定于一个接口，所以可以针对该接口进行优化。
因此，它将比试图满足所有接口需求的通用后端更小、更简单，而且可能更快。
每个接口团队都有自主权来控制自己的后端，并且不依赖于集中的后端开发团队。
这使得接口团队在语言选择、发布节奏、工作负载优先级排序以及后端特性集成方面具有灵活性。

[戳此查看更多信息](https://samnewman.io/patterns/architectural/bff/)。

# 问题与注意事项

* 考虑要部署多少后端。
* 如果不同的接口(如移动客户端)发出相同的请求，请考虑是否有必要为每个接口实现一个后端，
  或者是否只有一个后端就足够了。
* 在实现此模式时，跨服务的代码重复很可能发生。
* 聚焦于前端的后端服务应该只包含特定于客户端的逻辑和行为。
  通用业务逻辑和其他全局特性应该在应用程序的其他地方进行管理。
* 考虑一下这种模式如何反映在开发团队的职责中。
* 考虑实现这个模式需要多长时间。在您继续支持现有通用后端的同时，构建新后端的工作是否会产生技术负担？

# 何时使用

以下场景可以使用此模式：

* 必须使用大量的开发开销来维护共享或通用后端服务。
* 您希望为特定客户端接口的需求优化后端。
* 对通用后端进行自定义以容纳多个接口。
* 另一种编程语言语言更适合于不同用户界面的后端。

以下场景可能不适用：

* 当接口向后端发出相同或类似的请求时。
* 当只有一个接口用于与后端交互时。



<!DOCTYPE html><html lang="zh-CN"> <head><link rel="canonical" href="/blogs/2025-12-10-solid-cs"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Solid.js 从入门到放弃</title><script>
  var _hmt = _hmt || [];
  (function () {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?e5cd13f29c2fc3a6a3ca36ad30480374";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script><link href="https://cdn.bootcdn.net/ajax/libs/KaTeX/0.16.4/katex.min.css" rel="stylesheet"><link rel="stylesheet" href="/_astro/2024-08-27-dg-to-di.DzoS-3go.css">
<style>*{line-height:1.8}h2,h3,h4,h5,h6{color:#1f2937}blockquote{color:#4b5563;border-left-color:#6366f1}table{border:1px solid #ced4da;border-collapse:collapse}table tr{border-top:1px solid #ced4da}table tr td,table tr th{border-left:1px solid #ced4da;padding:8px 16px}img{width:100%;border:1px solid #eef;border-radius:4px}.math{max-width:100%;overflow-y:auto}.katex{font-size:1rem}.astro-code{padding:16px;border-radius:6px}
</style></head> <body class="pb-6 bg-indigo-50"> <div class="container mx-auto px-4 py-2 flex"> <a href="/" class="rounded-full bg-white py-2 px-6 select-none"><span class="font-bold">@xyzwps</span></a> </div> <div class="container mx-auto pt-4 px-4 sm:px-6 lg:px-8"> <nav class="flex" aria-label="Breadcrumb"> <ol class="inline-flex items-center space-x-1 md:space-x-3"> <li class="inline-flex items-center"> <a href="/" class="inline-flex items-center text-sm font-medium text-indigo-600 hover:text-indigo-800 transition-colors duration-200"> <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path> </svg>
主页
</a> </li> <li> <div class="flex items-center"> <svg class="w-6 h-6 text-indigo-400" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"></path> </svg> <a href="/blogs" class="ml-1 text-sm font-medium text-indigo-600 hover:text-indigo-800 transition-colors duration-200 md:ml-2"> 文章列表 </a> </div> </li> </ol> </nav> </div> <div class="container mx-auto p-4 min-h-screen"> <div class="grid grid-cols-4 gap-4"> <div class="prose prose-slate prose-code:before:content-[''] prose-code:after:content-[''] prose-img:p-4 prose-img:shadow bg-white max-w-none col-span-3 max-lg:col-span-4 border border-indigo-50 rounded-lg p-6 shadow text-gray-900"> <h1 class="text-gray-900">Solid.js 从入门到放弃</h1> <div class="text-sm text-gray-500">2025-12-10</div>   <p>事情是这样的。</p>
<p>因为本人写了很多年 React，写 Solid 的时候虽然感觉很熟悉，但是非常别扭。
这里记录下在不同场景下使用 Solid.js 的一些代码片段。</p>
<h2 id="简单组件">简单组件</h2>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> SimpleComponent</span><span style="color:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">a</span><span style="color:#D19A66;font-style:italic"> href</span><span style="color:#56B6C2">=</span><span style="color:#98C379">&quot;https://vitejs.dev&quot;</span><span style="color:#D19A66;font-style:italic"> target</span><span style="color:#56B6C2">=</span><span style="color:#98C379">&quot;_blank&quot;</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">        &lt;</span><span style="color:#E06C75">img</span><span style="color:#D19A66;font-style:italic"> src</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E06C75">viteLogo</span><span style="color:#C678DD">}</span><span style="color:#D19A66;font-style:italic"> class</span><span style="color:#56B6C2">=</span><span style="color:#98C379">&quot;logo&quot;</span><span style="color:#D19A66;font-style:italic"> alt</span><span style="color:#56B6C2">=</span><span style="color:#98C379">&quot;Vite logo&quot;</span><span style="color:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;/</span><span style="color:#E06C75">a</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">a</span><span style="color:#D19A66;font-style:italic"> href</span><span style="color:#56B6C2">=</span><span style="color:#98C379">&quot;https://solidjs.com&quot;</span><span style="color:#D19A66;font-style:italic"> target</span><span style="color:#56B6C2">=</span><span style="color:#98C379">&quot;_blank&quot;</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">        &lt;</span><span style="color:#E06C75">img</span><span style="color:#D19A66;font-style:italic"> src</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E06C75">solidLogo</span><span style="color:#C678DD">}</span><span style="color:#D19A66;font-style:italic"> class</span><span style="color:#56B6C2">=</span><span style="color:#98C379">&quot;logo solid&quot;</span><span style="color:#D19A66;font-style:italic"> alt</span><span style="color:#56B6C2">=</span><span style="color:#98C379">&quot;Solid logo&quot;</span><span style="color:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;/</span><span style="color:#E06C75">a</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  );</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic">// 使用</span></span>
<span class="line"><span style="color:#ABB2BF">&lt;</span><span style="color:#E5C07B">SimpleComponent</span><span style="color:#ABB2BF"> /&gt;</span></span></code></pre>
<h2 id="组件内部状态">组件内部状态</h2>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> Counter</span><span style="color:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#ABB2BF"> [</span><span style="color:#E5C07B">count</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">setCount</span><span style="color:#ABB2BF">] </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> createSignal</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66">0</span><span style="color:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">button</span><span style="color:#D19A66;font-style:italic"> onClick</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">() </span><span style="color:#C678DD">=&gt;</span><span style="color:#61AFEF"> setCount</span><span style="color:#ABB2BF">((</span><span style="color:#E06C75;font-style:italic">count</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span><span style="color:#E06C75"> count</span><span style="color:#56B6C2"> +</span><span style="color:#D19A66"> 1</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      count is: </span><span style="color:#C678DD">{</span><span style="color:#61AFEF">count</span><span style="color:#ABB2BF">()</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/</span><span style="color:#E06C75">button</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  );</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<h2 id="组件属性">组件属性</h2>
<h3 id="普通属性">普通属性</h3>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#7F848E;font-style:italic">// 注意: 不要对 props 进行解构</span></span>
<span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> Image</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">props</span><span style="color:#ABB2BF">: { </span><span style="color:#E06C75">src</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">string</span><span style="color:#ABB2BF">; </span><span style="color:#E06C75">alt</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">string</span><span style="color:#ABB2BF">; </span><span style="color:#E06C75">class</span><span style="color:#C678DD">?</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">string</span><span style="color:#ABB2BF"> }) {</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">img</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic">      src</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E5C07B">props</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">src</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic">      class</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">[</span><span style="color:#98C379">&quot;logo&quot;</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">props</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">class</span><span style="color:#56B6C2"> ||</span><span style="color:#98C379"> &quot;&quot;</span><span style="color:#ABB2BF">].</span><span style="color:#61AFEF">join</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot; &quot;</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic">      alt</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E5C07B">props</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">alt</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#ABB2BF">    /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  );</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<h3 id="children">Children</h3>
<p>为防止意外，使用 <code>children</code> 函数包裹 <code>props.children</code>:</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> Card</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">props</span><span style="color:#ABB2BF">: { </span><span style="color:#E06C75">children</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">JSX</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">Element</span><span style="color:#ABB2BF"> }) {</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#E5C07B"> safeChildren</span><span style="color:#56B6C2"> =</span><span style="color:#61AFEF"> children</span><span style="color:#ABB2BF">(() </span><span style="color:#C678DD">=&gt;</span><span style="color:#E5C07B"> props</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">children</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> &lt;</span><span style="color:#E06C75">div</span><span style="color:#D19A66;font-style:italic"> style</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">{ </span><span style="color:#E06C75">border</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">&quot;1px solid red&quot;</span><span style="color:#ABB2BF"> }</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span><span style="color:#C678DD">{</span><span style="color:#61AFEF">safeChildren</span><span style="color:#ABB2BF">()</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;;</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic">// 使用 children</span></span>
<span class="line"><span style="color:#ABB2BF">&lt;</span><span style="color:#E5C07B">Card</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  &lt;</span><span style="color:#E5C07B">Counter</span><span style="color:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  &lt;</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;Edit &lt;</span><span style="color:#E06C75">code</span><span style="color:#ABB2BF">&gt;src/App.tsx&lt;/</span><span style="color:#E06C75">code</span><span style="color:#ABB2BF">&gt; and save to test HMR&lt;/</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">&lt;/</span><span style="color:#E5C07B">Card</span><span style="color:#ABB2BF">&gt;</span></span></code></pre>
<h3 id="组件属性-1">组件属性</h3>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> CardProps</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#E06C75">  children</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">JSX</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">Element</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#E06C75">  title</span><span style="color:#C678DD">?</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">JSX</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">Element</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> Card</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">props</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">CardProps</span><span style="color:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#E5C07B"> safeChildren</span><span style="color:#56B6C2"> =</span><span style="color:#61AFEF"> children</span><span style="color:#ABB2BF">(() </span><span style="color:#C678DD">=&gt;</span><span style="color:#E5C07B"> props</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">children</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#E5C07B"> safeTitle</span><span style="color:#56B6C2"> =</span><span style="color:#61AFEF"> children</span><span style="color:#ABB2BF">(() </span><span style="color:#C678DD">=&gt;</span><span style="color:#E5C07B"> props</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">title</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">div</span><span style="color:#D19A66;font-style:italic"> style</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">{ </span><span style="color:#E06C75">border</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">&quot;1px solid red&quot;</span><span style="color:#ABB2BF"> }</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E5C07B">Show</span><span style="color:#D19A66;font-style:italic"> when</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#61AFEF">safeTitle</span><span style="color:#ABB2BF">()</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span><span style="color:#C678DD">{</span><span style="color:#61AFEF">safeTitle</span><span style="color:#ABB2BF">()</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&lt;/</span><span style="color:#E5C07B">Show</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#C678DD">      {</span><span style="color:#61AFEF">safeChildren</span><span style="color:#ABB2BF">()</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  );</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span>
<span class="line"></span></code></pre>
<h3 id="事件">事件</h3>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">type</span><span style="color:#E5C07B"> InputProps</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#E06C75">  placeholder</span><span style="color:#C678DD">?</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">string</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#E06C75">  value</span><span style="color:#C678DD">?</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">string</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#61AFEF">  onInput</span><span style="color:#C678DD">?</span><span style="color:#ABB2BF">: (</span><span style="color:#E06C75;font-style:italic">value</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">string</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span><span style="color:#E5C07B"> void</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> Input</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">props</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">InputProps</span><span style="color:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">input</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic">      type</span><span style="color:#56B6C2">=</span><span style="color:#98C379">&quot;text&quot;</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic">      placeholder</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E5C07B">props</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">placeholder</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic">      value</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E5C07B">props</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">value</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic">      onInput</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">e</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span><span style="color:#E5C07B"> props</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">onInput</span><span style="color:#ABB2BF">?.(</span><span style="color:#E5C07B">e</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">currentTarget</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">value</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#ABB2BF">    /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  );</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic">// 使用</span></span>
<span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> InputDemo</span><span style="color:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#ABB2BF"> [</span><span style="color:#E5C07B">text</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">setText</span><span style="color:#ABB2BF">] </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> createSignal</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;&quot;</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E5C07B">Input</span><span style="color:#D19A66;font-style:italic"> placeholder</span><span style="color:#56B6C2">=</span><span style="color:#98C379">&quot;Type here&quot;</span><span style="color:#D19A66;font-style:italic"> value</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#61AFEF">text</span><span style="color:#ABB2BF">()</span><span style="color:#C678DD">}</span><span style="color:#D19A66;font-style:italic"> onInput</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E06C75">setText</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color:#C678DD">      {</span><span style="color:#61AFEF">text</span><span style="color:#ABB2BF">()</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  );</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<h3 id="解构属性">解构属性</h3>
<p>Solid 中解构属性会导致组件失去响应性。正确的做法是使用使用 <code>splitProps</code> 函数来拆分属性：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">splitProps</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> &quot;solid-js&quot;</span><span style="color:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> ParentComponent</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">props</span><span style="color:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">  // Splitting props into two groups: &#39;name&#39; and &#39;age&#39;</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#ABB2BF"> [</span><span style="color:#E5C07B">greetingProps</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">personalInfoProps</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">restProps</span><span style="color:#ABB2BF">] </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> splitProps</span><span style="color:#ABB2BF">(</span></span>
<span class="line"><span style="color:#E06C75">    props</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#ABB2BF">    [</span><span style="color:#98C379">&quot;name&quot;</span><span style="color:#ABB2BF">],</span></span>
<span class="line"><span style="color:#ABB2BF">    [</span><span style="color:#98C379">&quot;age&quot;</span><span style="color:#ABB2BF">]</span></span>
<span class="line"><span style="color:#ABB2BF">  );</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic">  // Using greetingProps and personalInfoProps in the current component</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E5C07B">Greeting</span><span style="color:#C678DD"> {</span><span style="color:#ABB2BF">...</span><span style="color:#E06C75">greetingProps</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E5C07B">PersonalInfo</span><span style="color:#C678DD"> {</span><span style="color:#ABB2BF">...</span><span style="color:#E06C75">personalInfoProps</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color:#C678DD">      {</span><span style="color:#7F848E;font-style:italic">/* restProps can be passed down or used as needed */</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  );</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<h2 id="生命周期">生命周期</h2>
<h3 id="onmount">onMount</h3>
<p>可以简单理解为，这个函数发生于元素被挂在到页面上之后：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">onMount</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> &quot;solid-js&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> MyComponent</span><span style="color:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#C678DD">  let</span><span style="color:#E06C75"> ref</span><span style="color:#ABB2BF">: </span><span style="color:#E5C07B">HTMLButtonElement</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic">  // when the component is mounted, the button will be disabled</span></span>
<span class="line"><span style="color:#61AFEF">  onMount</span><span style="color:#ABB2BF">(() </span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#E5C07B">    ref</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">disabled</span><span style="color:#56B6C2"> =</span><span style="color:#D19A66"> true</span></span>
<span class="line"><span style="color:#ABB2BF">  })</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> &lt;</span><span style="color:#E06C75">button</span><span style="color:#D19A66;font-style:italic"> ref</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E06C75">ref</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;Focus me!&lt;/</span><span style="color:#E06C75">button</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<h3 id="oncleanup">onCleanup</h3>
<p>可以简单理解为，这个函数发生于元素被卸载时前。不写例子了。</p>
<h3 id="createeffect">createEffect</h3>
<p>它有两个执行时机：</p>
<ol>
<li>组价初始化渲染后；</li>
<li>它依赖的 reactive 值发生变化时运行。</li>
</ol>
<p>下面的例子中，组件渲染后执行一次，每次点击按钮也都会执行一次。</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">createEffect</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">createSignal</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> &quot;solid-js&quot;</span><span style="color:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> default</span><span style="color:#C678DD"> function</span><span style="color:#61AFEF"> EffectDemo</span><span style="color:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#ABB2BF"> [</span><span style="color:#E5C07B">count</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">setCount</span><span style="color:#ABB2BF">] </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> createSignal</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66">0</span><span style="color:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF">  createEffect</span><span style="color:#ABB2BF">(() </span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#E5C07B">    console</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">log</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;effect count&quot;</span><span style="color:#ABB2BF">, </span><span style="color:#61AFEF">count</span><span style="color:#ABB2BF">());</span></span>
<span class="line"><span style="color:#ABB2BF">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">button</span><span style="color:#D19A66;font-style:italic"> onClick</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">() </span><span style="color:#C678DD">=&gt;</span><span style="color:#61AFEF"> setCount</span><span style="color:#ABB2BF">((</span><span style="color:#E06C75;font-style:italic">c</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span><span style="color:#E06C75"> c</span><span style="color:#56B6C2"> +</span><span style="color:#D19A66"> 1</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;+ 1&lt;/</span><span style="color:#E06C75">button</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  );</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<p>下面是一个永动机（直接 stack overflow 了）：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> default</span><span style="color:#C678DD"> function</span><span style="color:#61AFEF"> EffectDemo</span><span style="color:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#ABB2BF"> [</span><span style="color:#E5C07B">count</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">setCount</span><span style="color:#ABB2BF">] </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> createSignal</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66">0</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#ABB2BF"> [</span><span style="color:#E5C07B">value</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">setValue</span><span style="color:#ABB2BF">] </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> createSignal</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66">0</span><span style="color:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF">  createEffect</span><span style="color:#ABB2BF">(() </span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#E5C07B">    console</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">log</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;effect count&quot;</span><span style="color:#ABB2BF">, </span><span style="color:#61AFEF">count</span><span style="color:#ABB2BF">());</span></span>
<span class="line"><span style="color:#61AFEF">    setValue</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">v</span><span style="color:#C678DD"> =&gt;</span><span style="color:#E06C75"> v</span><span style="color:#56B6C2"> +</span><span style="color:#D19A66"> 1</span><span style="color:#ABB2BF">)</span></span>
<span class="line"><span style="color:#ABB2BF">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF">  createEffect</span><span style="color:#ABB2BF">(() </span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#E5C07B">    console</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">log</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;effect value&quot;</span><span style="color:#ABB2BF">, </span><span style="color:#61AFEF">value</span><span style="color:#ABB2BF">());</span></span>
<span class="line"><span style="color:#61AFEF">    setCount</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">c</span><span style="color:#C678DD"> =&gt;</span><span style="color:#E06C75"> c</span><span style="color:#56B6C2"> +</span><span style="color:#D19A66"> 1</span><span style="color:#ABB2BF">)</span></span>
<span class="line"><span style="color:#ABB2BF">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">button</span><span style="color:#D19A66;font-style:italic"> onClick</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">() </span><span style="color:#C678DD">=&gt;</span><span style="color:#61AFEF"> setCount</span><span style="color:#ABB2BF">((</span><span style="color:#E06C75;font-style:italic">c</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span><span style="color:#E06C75"> c</span><span style="color:#56B6C2"> +</span><span style="color:#D19A66"> 1</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;+ 1&lt;/</span><span style="color:#E06C75">button</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  );</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<h2 id="状态管理">状态管理</h2>
<h3 id="signal">Signal</h3>
<p>Signal 用于跟踪一个值。它最神奇的地方在于，可以把它用在组件外面：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">createSignal</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> &quot;solid-js&quot;</span><span style="color:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">const</span><span style="color:#ABB2BF"> [</span><span style="color:#E5C07B">count</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">setCount</span><span style="color:#ABB2BF">] </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> createSignal</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66">0</span><span style="color:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> default</span><span style="color:#C678DD"> function</span><span style="color:#61AFEF"> SignalDemo</span><span style="color:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">button</span><span style="color:#D19A66;font-style:italic"> onClick</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">() </span><span style="color:#C678DD">=&gt;</span><span style="color:#61AFEF"> setCount</span><span style="color:#ABB2BF">((</span><span style="color:#E06C75;font-style:italic">c</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span><span style="color:#E06C75"> c</span><span style="color:#56B6C2"> +</span><span style="color:#D19A66"> 1</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;+ 1&lt;/</span><span style="color:#E06C75">button</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">button</span><span style="color:#D19A66;font-style:italic"> onClick</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">() </span><span style="color:#C678DD">=&gt;</span><span style="color:#61AFEF"> setCount</span><span style="color:#ABB2BF">((</span><span style="color:#E06C75;font-style:italic">c</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span><span style="color:#E06C75"> c</span><span style="color:#56B6C2"> +</span><span style="color:#D19A66"> 100</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;+ 100&lt;/</span><span style="color:#E06C75">button</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;Count: </span><span style="color:#C678DD">{</span><span style="color:#61AFEF">count</span><span style="color:#ABB2BF">()</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&lt;/</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  );</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<h3 id="store">Store</h3>
<h4 id="创建和访问-store">创建和访问 Store</h4>
<p><code>createStore</code> 追踪一个有层级的对象。下例中，<code>store</code> 是一个代理对象，reactive 对象，不需要像 signal 中那样使用 <code>()</code>:</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">createStore</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> &quot;solid-js/store&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">const</span><span style="color:#61AFEF"> App</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> () </span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#ABB2BF"> [</span><span style="color:#E5C07B">mySignal</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">setMySignal</span><span style="color:#ABB2BF">] </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> createSignal</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;This is a signal.&quot;</span><span style="color:#ABB2BF">)</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#ABB2BF"> [</span><span style="color:#E5C07B">store</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">setStore</span><span style="color:#ABB2BF">] </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> createStore</span><span style="color:#ABB2BF">({</span></span>
<span class="line"><span style="color:#E06C75">    userCount</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">3</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    users</span><span style="color:#ABB2BF">: [</span></span>
<span class="line"><span style="color:#ABB2BF">      { </span><span style="color:#E06C75">id</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">0</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">username</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">&quot;felix909&quot;</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">location</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">&quot;England&quot;</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">loggedIn</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">false</span><span style="color:#ABB2BF"> },</span></span>
<span class="line"><span style="color:#ABB2BF">      { </span><span style="color:#E06C75">id</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">1</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">username</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">&quot;tracy634&quot;</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">location</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">&quot;Canada&quot;</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">loggedIn</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">true</span><span style="color:#ABB2BF"> },</span></span>
<span class="line"><span style="color:#ABB2BF">      { </span><span style="color:#E06C75">id</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">2</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">username</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">&quot;johny123&quot;</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">location</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">&quot;India&quot;</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">loggedIn</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">true</span><span style="color:#ABB2BF"> },</span></span>
<span class="line"><span style="color:#ABB2BF">    ],</span></span>
<span class="line"><span style="color:#ABB2BF">  })</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">h1</span><span style="color:#ABB2BF">&gt;Hello, </span><span style="color:#C678DD">{</span><span style="color:#E5C07B">store</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">users</span><span style="color:#ABB2BF">[</span><span style="color:#D19A66">0</span><span style="color:#ABB2BF">].</span><span style="color:#E06C75">username</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&lt;/</span><span style="color:#E06C75">h1</span><span style="color:#ABB2BF">&gt; </span><span style="color:#C678DD">{</span><span style="color:#7F848E;font-style:italic">/* Accessing a store value */</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">span</span><span style="color:#ABB2BF">&gt;</span><span style="color:#C678DD">{</span><span style="color:#61AFEF">mySignal</span><span style="color:#ABB2BF">()</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&lt;/</span><span style="color:#E06C75">span</span><span style="color:#ABB2BF">&gt; </span><span style="color:#C678DD">{</span><span style="color:#7F848E;font-style:italic">/* Accessing a signal */</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  )</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<h4 id="修改-store">修改 Store</h4>
<p>修改 store 的方式是使用返回的 <code>setStore(key, newValue)</code> 函数来拆分属性：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#61AFEF">setStore</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;users&quot;</span><span style="color:#ABB2BF">, (</span><span style="color:#E06C75;font-style:italic">currentUsers</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF"> [</span></span>
<span class="line"><span style="color:#ABB2BF">  ...</span><span style="color:#E06C75">currentUsers</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#ABB2BF">  {</span></span>
<span class="line"><span style="color:#E06C75">    id</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">3</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    username</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">&quot;michael584&quot;</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    location</span><span style="color:#ABB2BF">: </span><span style="color:#98C379">&quot;Nigeria&quot;</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">    loggedIn</span><span style="color:#ABB2BF">: </span><span style="color:#D19A66">false</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#ABB2BF">  },</span></span>
<span class="line"><span style="color:#ABB2BF">])</span></span></code></pre>
<h4 id="获取非响应式的-store-值---unwrap">获取非响应式的 Store 值 - unwrap</h4>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">createStore</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">unwrap</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> &quot;solid-js/store&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">const</span><span style="color:#ABB2BF"> [</span><span style="color:#E5C07B">data</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">setData</span><span style="color:#ABB2BF">] </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> createStore</span><span style="color:#ABB2BF">({</span></span>
<span class="line"><span style="color:#E06C75">  animals</span><span style="color:#ABB2BF">: [</span><span style="color:#98C379">&quot;cat&quot;</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">&quot;dog&quot;</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">&quot;bird&quot;</span><span style="color:#ABB2BF">, </span><span style="color:#98C379">&quot;gorilla&quot;</span><span style="color:#ABB2BF">],</span></span>
<span class="line"><span style="color:#ABB2BF">})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> rawData</span><span style="color:#56B6C2"> =</span><span style="color:#61AFEF"> unwrap</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">data</span><span style="color:#ABB2BF">)</span></span></code></pre>
<h4 id="store-杂项">Store 杂项</h4>
<p>Store 也可以放在组件外。</p>
<h2 id="控制流程">控制流程</h2>
<h3 id="条件显示---show">条件显示 - Show</h3>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">Show</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> &quot;solid-js&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF">&lt;&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  &lt;</span><span style="color:#E5C07B">Show</span><span style="color:#D19A66;font-style:italic"> when</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E5C07B">data</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">loading</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;Loading...&lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  &lt;/</span><span style="color:#E5C07B">Show</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  &lt;</span><span style="color:#E5C07B">Show</span><span style="color:#D19A66;font-style:italic"> when</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#56B6C2">!</span><span style="color:#E5C07B">data</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">loading</span><span style="color:#C678DD">}</span><span style="color:#D19A66;font-style:italic"> fallback</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">&lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;Loading...&lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">h1</span><span style="color:#ABB2BF">&gt;Hi, I am </span><span style="color:#C678DD">{</span><span style="color:#61AFEF">data</span><span style="color:#ABB2BF">().</span><span style="color:#E06C75">name</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">.&lt;/</span><span style="color:#E06C75">h1</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  &lt;/</span><span style="color:#E5C07B">Show</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">&lt;&gt;</span></span></code></pre>
<h3 id="条件显示---switch--match">条件显示 - Switch &amp; Match</h3>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">Switch</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">Match</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> &quot;solid-js&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF">&lt;</span><span style="color:#E5C07B">Switch</span><span style="color:#D19A66;font-style:italic"> fallback</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">&lt;</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;Fallback content&lt;/</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  &lt;</span><span style="color:#E5C07B">Match</span><span style="color:#D19A66;font-style:italic"> when</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E06C75">condition1</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;Outcome 1&lt;/</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  &lt;/</span><span style="color:#E5C07B">Match</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  &lt;</span><span style="color:#E5C07B">Match</span><span style="color:#D19A66;font-style:italic"> when</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E06C75">condition2</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;Outcome 2&lt;/</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  &lt;/</span><span style="color:#E5C07B">Match</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">&lt;/</span><span style="color:#E5C07B">Switch</span><span style="color:#ABB2BF">&gt;</span></span></code></pre>
<h3 id="动态渲染---dynamic">动态渲染 - Dynamic</h3>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">createSignal</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">For</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> &quot;solid-js&quot;</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">Dynamic</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> &quot;solid-js/web&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">const</span><span style="color:#61AFEF"> RedDiv</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> () </span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF"> &lt;</span><span style="color:#E06C75">div</span><span style="color:#D19A66;font-style:italic"> style</span><span style="color:#56B6C2">=</span><span style="color:#98C379">&quot;color: red&quot;</span><span style="color:#ABB2BF">&gt;Red&lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#C678DD">const</span><span style="color:#61AFEF"> GreenDiv</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> () </span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF"> &lt;</span><span style="color:#E06C75">div</span><span style="color:#D19A66;font-style:italic"> style</span><span style="color:#56B6C2">=</span><span style="color:#98C379">&quot;color: green&quot;</span><span style="color:#ABB2BF">&gt;Green&lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#C678DD">const</span><span style="color:#61AFEF"> BlueDiv</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> () </span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF"> &lt;</span><span style="color:#E06C75">div</span><span style="color:#D19A66;font-style:italic"> style</span><span style="color:#56B6C2">=</span><span style="color:#98C379">&quot;color: blue&quot;</span><span style="color:#ABB2BF">&gt;Blue&lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">const</span><span style="color:#E5C07B"> options</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#E06C75">  red</span><span style="color:#ABB2BF">: </span><span style="color:#E06C75">RedDiv</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">  green</span><span style="color:#ABB2BF">: </span><span style="color:#E06C75">GreenDiv</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#E06C75">  blue</span><span style="color:#ABB2BF">: </span><span style="color:#E06C75">BlueDiv</span><span style="color:#ABB2BF">,</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> App</span><span style="color:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#ABB2BF"> [</span><span style="color:#E5C07B">selected</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">setSelected</span><span style="color:#ABB2BF">] </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> createSignal</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;red&quot;</span><span style="color:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">select</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic">        value</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#61AFEF">selected</span><span style="color:#ABB2BF">()</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic">        onInput</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">e</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span><span style="color:#61AFEF"> setSelected</span><span style="color:#ABB2BF">(</span><span style="color:#E5C07B">e</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">currentTarget</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">value</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#ABB2BF">      &gt;</span></span>
<span class="line"><span style="color:#ABB2BF">        &lt;</span><span style="color:#E5C07B">For</span><span style="color:#D19A66;font-style:italic"> each</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E5C07B">Object</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">keys</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">options</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#C678DD">          {</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">color</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF"> &lt;</span><span style="color:#E06C75">option</span><span style="color:#D19A66;font-style:italic"> value</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E06C75">color</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span><span style="color:#C678DD">{</span><span style="color:#E06C75">color</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&lt;/</span><span style="color:#E06C75">option</span><span style="color:#ABB2BF">&gt;</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#ABB2BF">        &lt;/</span><span style="color:#E5C07B">For</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;/</span><span style="color:#E06C75">select</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E5C07B">Dynamic</span><span style="color:#D19A66;font-style:italic"> component</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E06C75">options</span><span style="color:#ABB2BF">[</span><span style="color:#61AFEF">selected</span><span style="color:#ABB2BF">()]</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  )</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<p>等价的写法是这样的：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> App</span><span style="color:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#ABB2BF"> [</span><span style="color:#E5C07B">selected</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">setSelected</span><span style="color:#ABB2BF">] </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> createSignal</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;red&quot;</span><span style="color:#ABB2BF">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">select</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic">        value</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#61AFEF">selected</span><span style="color:#ABB2BF">()</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic">        onInput</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">e</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span><span style="color:#61AFEF"> setSelected</span><span style="color:#ABB2BF">(</span><span style="color:#E5C07B">e</span><span style="color:#ABB2BF">.</span><span style="color:#E5C07B">currentTarget</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">value</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#ABB2BF">      &gt;</span></span>
<span class="line"><span style="color:#ABB2BF">        &lt;</span><span style="color:#E5C07B">For</span><span style="color:#D19A66;font-style:italic"> each</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E5C07B">Object</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">keys</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75">options</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#C678DD">          {</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">color</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF"> &lt;</span><span style="color:#E06C75">option</span><span style="color:#D19A66;font-style:italic"> value</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E06C75">color</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span><span style="color:#C678DD">{</span><span style="color:#E06C75">color</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&lt;/</span><span style="color:#E06C75">option</span><span style="color:#ABB2BF">&gt;</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#ABB2BF">        &lt;/</span><span style="color:#E5C07B">For</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;/</span><span style="color:#E06C75">select</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E5C07B">Switch</span><span style="color:#D19A66;font-style:italic"> fallback</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">&lt;</span><span style="color:#E5C07B">BlueDiv</span><span style="color:#ABB2BF"> /&gt;</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">        &lt;</span><span style="color:#E5C07B">Match</span><span style="color:#D19A66;font-style:italic"> when</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#61AFEF">selected</span><span style="color:#ABB2BF">() </span><span style="color:#56B6C2">===</span><span style="color:#98C379"> &quot;red&quot;</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">          &lt;</span><span style="color:#E5C07B">RedDiv</span><span style="color:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">        &lt;/</span><span style="color:#E5C07B">Match</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">        &lt;</span><span style="color:#E5C07B">Match</span><span style="color:#D19A66;font-style:italic"> when</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#61AFEF">selected</span><span style="color:#ABB2BF">() </span><span style="color:#56B6C2">===</span><span style="color:#98C379"> &quot;green&quot;</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">          &lt;</span><span style="color:#E5C07B">GreenDiv</span><span style="color:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">        &lt;/</span><span style="color:#E5C07B">Match</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;/</span><span style="color:#E5C07B">Switch</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  )</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<h3 id="渲染列表---for">渲染列表 - For</h3>
<p><code>For</code> 适用于列表的顺序和长度变化频繁的场景。这种场景下，列表变化会导致 <code>For</code> 重新渲染整个列表：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">For</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> &quot;solid-js&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF">&lt;</span><span style="color:#E5C07B">For</span><span style="color:#D19A66;font-style:italic"> each</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#61AFEF">data</span><span style="color:#ABB2BF">()</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#C678DD">  {</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">item</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75;font-style:italic">index</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">    // rendering logic for each element</span></span>
<span class="line"><span style="color:#C678DD">  }</span></span>
<span class="line"><span style="color:#ABB2BF">&lt;/</span><span style="color:#E5C07B">For</span><span style="color:#ABB2BF">&gt;</span></span></code></pre>
<h3 id="渲染列表---index">渲染列表 - Index</h3>
<p><code>Index</code> 适用于列表的顺序和长度稳定，但是内容变化频繁的场景：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">Index</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> &quot;solid-js&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#ABB2BF">&lt;</span><span style="color:#E5C07B">Index</span><span style="color:#D19A66;font-style:italic"> each</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#61AFEF">data</span><span style="color:#ABB2BF">()</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#C678DD">  {</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">item</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75;font-style:italic">index</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">    // rendering logic for each element</span></span>
<span class="line"><span style="color:#C678DD">  }</span></span>
<span class="line"><span style="color:#ABB2BF">&lt;/</span><span style="color:#E5C07B">Index</span><span style="color:#ABB2BF">&gt;</span></span></code></pre>
<h2 id="杂项">杂项</h2>
<h3 id="错误处理">错误处理</h3>
<p><code>Solid</code> 提供了 <code>ErrorBoundary</code> 组件，用于处理组件中的错误：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">ErrorBoundary</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> &quot;solid-js&quot;</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">Header</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75">ErrorProne</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> &quot;./components&quot;</span><span style="color:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> App</span><span style="color:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E5C07B">Header</span><span style="color:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E5C07B">ErrorBoundary</span></span>
<span class="line"><span style="color:#D19A66;font-style:italic">        fallback</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">error</span><span style="color:#ABB2BF">, </span><span style="color:#E06C75;font-style:italic">reset</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">          &lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">            &lt;</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;Something went wrong: </span><span style="color:#C678DD">{</span><span style="color:#E5C07B">error</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">message</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&lt;/</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">            &lt;</span><span style="color:#E06C75">button</span><span style="color:#D19A66;font-style:italic"> onClick</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E06C75">reset</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;Try Again&lt;/</span><span style="color:#E06C75">button</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">          &lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">        )</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#ABB2BF">      &gt;</span></span>
<span class="line"><span style="color:#ABB2BF">        &lt;</span><span style="color:#E5C07B">ErrorProne</span><span style="color:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;/</span><span style="color:#E5C07B">ErrorBoundary</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  );</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<h3 id="jsx-作为值">JSX 作为值</h3>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> Component</span><span style="color:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#E5C07B"> myElement</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> &lt;</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;My Element&lt;/</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> &lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span><span style="color:#C678DD">{</span><span style="color:#E06C75">myElement</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<h3 id="操作-dom---refs">操作 DOM - refs</h3>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> Component</span><span style="color:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#C678DD">  let</span><span style="color:#E06C75"> myElement</span><span style="color:#ABB2BF">!: </span><span style="color:#E5C07B">HTMLParagraphElement</span><span style="color:#ABB2BF">;</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;&lt;</span><span style="color:#E06C75">p</span><span style="color:#D19A66;font-style:italic"> ref</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E06C75">myElement</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;My Element&lt;/</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;&lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  )</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<p>这里赋值发生于组件创建时，早于元素被加到 DOM 中的时间。虽然如此，但是你必须在组件创建后才可以访问 <code>myElement</code>。
如果你希望在组件创建时就访问 DOM 元素，可以使用回调风格的 ref:</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#ABB2BF">&lt;</span><span style="color:#E06C75">p</span><span style="color:#D19A66;font-style:italic"> ref</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">el</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#E06C75">    myElement</span><span style="color:#56B6C2"> =</span><span style="color:#E06C75"> el</span><span style="color:#ABB2BF">; </span><span style="color:#7F848E;font-style:italic">// 这个函数体就是你可以动手脚的地方</span></span>
<span class="line"><span style="color:#ABB2BF">  }</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  My Element</span></span>
<span class="line"><span style="color:#ABB2BF">&lt;/</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;</span></span></code></pre>
<h3 id="父组件引用子组件元素-dom-的方法---forwarding-refs">父组件引用子组件元素 DOM 的方法 - Forwarding refs</h3>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#7F848E;font-style:italic">// Parent component</span></span>
<span class="line"><span style="color:#C678DD">import</span><span style="color:#ABB2BF"> { </span><span style="color:#E06C75">Canvas</span><span style="color:#ABB2BF"> } </span><span style="color:#C678DD">from</span><span style="color:#98C379"> &quot;./Canvas.jsx&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> ParentComponent</span><span style="color:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#C678DD">  let</span><span style="color:#E06C75"> canvasRef</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#61AFEF"> animateCanvas</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> () </span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic">    // Manipulate the canvas using canvasRef...</span></span>
<span class="line"><span style="color:#ABB2BF">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E5C07B">Canvas</span><span style="color:#D19A66;font-style:italic"> ref</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E06C75">canvasRef</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">button</span><span style="color:#D19A66;font-style:italic"> onClick</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E06C75">animateCanvas</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;Animate Canvas&lt;/</span><span style="color:#E06C75">button</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  )</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic">// Child component</span></span>
<span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> Canvas</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">props</span><span style="color:#ABB2BF">) {</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">div</span><span style="color:#D19A66;font-style:italic"> className</span><span style="color:#56B6C2">=</span><span style="color:#98C379">&quot;canvas-container&quot;</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">canvas</span><span style="color:#D19A66;font-style:italic"> ref</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E5C07B">props</span><span style="color:#ABB2BF">.</span><span style="color:#E06C75">ref</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF"> /&gt; </span><span style="color:#C678DD">{</span><span style="color:#7F848E;font-style:italic">/* Assign the ref to the canvas element */</span><span style="color:#C678DD">}</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  )</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<h3 id="原生事件">原生事件</h3>
<p>使用 <code>on:__</code> 语法来绑定原生事件：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#ABB2BF">&lt;</span><span style="color:#E06C75">div</span><span style="color:#D19A66"> on</span><span style="color:#ABB2BF">:</span><span style="color:#D19A66;font-style:italic">scroll</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#E06C75">handleScroll</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;... very long text ...&lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span></code></pre>
<h3 id="响应式对象派生---derived">响应式对象派生 - Derived</h3>
<p>可以使用函数对响应式对象进行派生：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">export</span><span style="color:#C678DD"> default</span><span style="color:#C678DD"> function</span><span style="color:#61AFEF"> DerivedDemo</span><span style="color:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#ABB2BF"> [</span><span style="color:#E5C07B">count</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">setCount</span><span style="color:#ABB2BF">] </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> createSignal</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66">0</span><span style="color:#ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#7F848E;font-style:italic">  // 因为 count 是响应式的，所以 idOdd 也是响应式的</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#61AFEF"> idOdd</span><span style="color:#56B6C2"> =</span><span style="color:#ABB2BF"> () </span><span style="color:#C678DD">=&gt;</span><span style="color:#61AFEF"> count</span><span style="color:#ABB2BF">() </span><span style="color:#56B6C2">%</span><span style="color:#D19A66"> 2</span><span style="color:#56B6C2"> ===</span><span style="color:#D19A66"> 1</span><span style="color:#ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#61AFEF">  createEffect</span><span style="color:#ABB2BF">(() </span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF"> {</span></span>
<span class="line"><span style="color:#E5C07B">    console</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">log</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;derived: count is odd&quot;</span><span style="color:#ABB2BF">, </span><span style="color:#61AFEF">idOdd</span><span style="color:#ABB2BF">());</span></span>
<span class="line"><span style="color:#ABB2BF">  });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">h2</span><span style="color:#ABB2BF">&gt;Derived Demo&lt;/</span><span style="color:#E06C75">h2</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">button</span><span style="color:#D19A66;font-style:italic"> onClick</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">() </span><span style="color:#C678DD">=&gt;</span><span style="color:#61AFEF"> setCount</span><span style="color:#ABB2BF">((</span><span style="color:#E06C75;font-style:italic">c</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span><span style="color:#ABB2BF"> (</span><span style="color:#E06C75">c</span><span style="color:#56B6C2"> &gt;=</span><span style="color:#D19A66"> 5</span><span style="color:#C678DD"> ?</span><span style="color:#D19A66"> 5</span><span style="color:#C678DD"> :</span><span style="color:#E06C75"> c</span><span style="color:#56B6C2"> +</span><span style="color:#D19A66"> 1</span><span style="color:#ABB2BF">))</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;哈&lt;/</span><span style="color:#E06C75">button</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  );</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<h3 id="memo">memo</h3>
<p>可以直接把 meno 是可以返回数据版的 effect。使用 <code>createMemo</code> 来创建 memo。</p>
<h3 id="函数式组件的执行">函数式组件的执行</h3>
<p>下面有一个例子：</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> FunctionDemo</span><span style="color:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#ABB2BF"> [</span><span style="color:#E5C07B">count</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">setCount</span><span style="color:#ABB2BF">] </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> createSignal</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66">0</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#E5C07B">  console</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">log</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;render&quot;</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">h2</span><span style="color:#ABB2BF">&gt;Function Demo&lt;/</span><span style="color:#E06C75">h2</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">button</span><span style="color:#D19A66;font-style:italic"> onClick</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">() </span><span style="color:#C678DD">=&gt;</span><span style="color:#61AFEF"> setCount</span><span style="color:#ABB2BF">((</span><span style="color:#E06C75;font-style:italic">c</span><span style="color:#ABB2BF">) </span><span style="color:#C678DD">=&gt;</span><span style="color:#E06C75"> c</span><span style="color:#56B6C2"> +</span><span style="color:#D19A66"> 1</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;+ 1&lt;/</span><span style="color:#E06C75">button</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;Count: </span><span style="color:#C678DD">{</span><span style="color:#61AFEF">count</span><span style="color:#ABB2BF">()</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&lt;/</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  );</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>
<p>这个例子中，只有组件渲染时才会打印 <code>render</code>，后续点击按钮不会触发组件函数的重新执行。这是因为后续的组件变化是由 Solid 的响应式系统来追踪的。
这和 React 完全不同。下面的 React 版本，每次点击按钮都会打印 <code>render</code>:</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf;overflow-x:auto" tabindex="0" data-language="tsx"><code><span class="line"><span style="color:#7F848E;font-style:italic">// React 版本</span></span>
<span class="line"><span style="color:#C678DD">function</span><span style="color:#61AFEF"> FunctionDemo</span><span style="color:#ABB2BF">() {</span></span>
<span class="line"><span style="color:#C678DD">  const</span><span style="color:#ABB2BF"> [</span><span style="color:#E5C07B">count</span><span style="color:#ABB2BF">, </span><span style="color:#E5C07B">setCount</span><span style="color:#ABB2BF">] </span><span style="color:#56B6C2">=</span><span style="color:#61AFEF"> useState</span><span style="color:#ABB2BF">(</span><span style="color:#D19A66">0</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#E5C07B">  console</span><span style="color:#ABB2BF">.</span><span style="color:#61AFEF">log</span><span style="color:#ABB2BF">(</span><span style="color:#98C379">&quot;render&quot;</span><span style="color:#ABB2BF">);</span></span>
<span class="line"><span style="color:#C678DD">  return</span><span style="color:#ABB2BF"> (</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">h2</span><span style="color:#ABB2BF">&gt;Function Demo&lt;/</span><span style="color:#E06C75">h2</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">button</span><span style="color:#D19A66;font-style:italic"> onClick</span><span style="color:#56B6C2">=</span><span style="color:#C678DD">{</span><span style="color:#ABB2BF">() </span><span style="color:#C678DD">=&gt;</span><span style="color:#61AFEF"> setCount</span><span style="color:#ABB2BF">(</span><span style="color:#E06C75;font-style:italic">c</span><span style="color:#C678DD"> =&gt;</span><span style="color:#E06C75"> c</span><span style="color:#56B6C2"> +</span><span style="color:#D19A66"> 1</span><span style="color:#ABB2BF">)</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&gt;+ 1&lt;/</span><span style="color:#E06C75">button</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">      &lt;</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;Count: </span><span style="color:#C678DD">{</span><span style="color:#E06C75">count</span><span style="color:#C678DD">}</span><span style="color:#ABB2BF">&lt;/</span><span style="color:#E06C75">p</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">    &lt;/</span><span style="color:#E06C75">div</span><span style="color:#ABB2BF">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF">  );</span></span>
<span class="line"><span style="color:#ABB2BF">}</span></span></code></pre>  </div> <div class="max-lg:hidden border border-indigo-50 rounded-lg p-6 bg-white shadow"> <div class="sticky top-4">   <h1 class="mt-4 text-indigo-700 font-bold">本文目录</h1> <ol class="ml-3 mt-4 list-disc pl-4 text-indigo-700"> <li class="font-bold text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#简单组件">简单组件</a> </li><li class="font-bold text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#组件内部状态">组件内部状态</a> </li><li class="font-bold text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#组件属性">组件属性</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#普通属性">普通属性</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#children">Children</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#组件属性-1">组件属性</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#事件">事件</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#解构属性">解构属性</a> </li><li class="font-bold text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#生命周期">生命周期</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#onmount">onMount</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#oncleanup">onCleanup</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#createeffect">createEffect</a> </li><li class="font-bold text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#状态管理">状态管理</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#signal">Signal</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#store">Store</a> </li><li class="ml-8 text-xs"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#创建和访问-store">创建和访问 Store</a> </li><li class="ml-8 text-xs"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#修改-store">修改 Store</a> </li><li class="ml-8 text-xs"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#获取非响应式的-store-值---unwrap">获取非响应式的 Store 值 - unwrap</a> </li><li class="ml-8 text-xs"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#store-杂项">Store 杂项</a> </li><li class="font-bold text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#控制流程">控制流程</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#条件显示---show">条件显示 - Show</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#条件显示---switch--match">条件显示 - Switch &amp; Match</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#动态渲染---dynamic">动态渲染 - Dynamic</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#渲染列表---for">渲染列表 - For</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#渲染列表---index">渲染列表 - Index</a> </li><li class="font-bold text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#杂项">杂项</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#错误处理">错误处理</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#jsx-作为值">JSX 作为值</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#操作-dom---refs">操作 DOM - refs</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#父组件引用子组件元素-dom-的方法---forwarding-refs">父组件引用子组件元素 DOM 的方法 - Forwarding refs</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#原生事件">原生事件</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#响应式对象派生---derived">响应式对象派生 - Derived</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#memo">memo</a> </li><li class="ml-4 text-sm"> <a class="cursor-pointer text-indigo-700 hover:text-indigo-900 hover:bg-indigo-100" href="#函数式组件的执行">函数式组件的执行</a> </li> </ol>  </div> </div> </div> </div> </body></html>
---
import Breadcrumb from '../../components/Breadcrumb.astro';
import PostToc from '../../components/PostToc.astro';
import MdxLayout from '../../layouts/MdxLayout.astro';
import type { MDXLayoutProps } from 'astro';

type Props = MDXLayoutProps<{
  // 在这里定义 frontmatter 属性
  title: string;
  author: string;
  date: string;
}>;

const list = [
  { depth: 2, title: '软连接', link: '/blogs/2022-12-06-soft-link' },
  { depth: 2, title: '密码强度', link: '/blogs/2022-10-17-password-strength' },
  { depth: 2, title: 'Graphql 碎碎念', link: '/blogs/2022-09-19-graphql-gossip' },
  { depth: 2, title: '函数式编程', link: '/blogs/2022-08-25-fp' },
  { depth: 2, title: 'Authentication', link: '/blogs/2022-08-22-authn' },
  { depth: 2, title: 'ID 生成算法', link: '/blogs/2022-08-18-id' },
  { depth: 2, title: '一个跨服务分页示例', link: '/blogs/2022-08-02-pagination' },
  { depth: 2, title: '一些数据格式', link: '/blogs/2022-08-01-data-format' },
  { depth: 2, title: '分页', link: '/blogs/2022-07-27-pagination' },
  { depth: 2, title: 'Unicode', link: '/blogs/2022-06-25-unicode' },
  { depth: 2, title: '记一个 JS return await 问题', link: '/blogs/2022-06-23-js-return-await' },
  {
    depth: 2,
    title: 'Go 语言 https 客户端如何使用自签名 CA',
    link: '/blogs/2022-06-06-go-http-client-use-self-siged-ca',
  },
  { depth: 2, title: '国内开源软件镜像', link: '/blogs/2023-04-17-mirrors' },
];

const { frontmatter, url } = Astro.props;

const INDEX_PATH = '/blogs';
---

<MdxLayout {...Astro.props}>
  <Breadcrumb
    slot="breadcrumb"
    items={[{ title: '博客列表', path: INDEX_PATH }, url == INDEX_PATH ? null : { title: frontmatter.title }]}
  />
  <PostToc slot="left" links={list} />
  <slot slot="center" />
</MdxLayout>

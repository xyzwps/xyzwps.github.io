---
layout: ../../../layouts/MdxLayout.astro
title: 进程与线程
parent:
  name: 返回上级
  path: /cheatsheet/linux
---

## 按 CUP 使用量顺序查看进程

```bash
$ top
top - 11:36:18 up 13:12,  1 user,  load average: 1.99, 2.04, 1.88
任务: 497 total,   1 running, 492 sleeping,   2 stopped,   2 zombie
%Cpu(s):  2.2 us,  1.2 sy,  0.0 ni, 96.3 id,  0.0 wa,  0.0 hi,  0.2 si,  0.0 st
MiB Mem :  27819.0 total,  12180.9 free,   8909.2 used,   7301.3 buff/cache
MiB Swap:  16384.0 total,  14517.0 free,   1867.0 used.  18909.8 avail Mem

 进程号 USER      PR  NI    VIRT    RES    SHR    %CPU  %MEM     TIME+ COMMAND
   1125 xyzwps    20   0 3186536 168408 137236 S  14.6   0.6  77:10.59 deepin-kwin_x11
  39697 xyzwps    20   0  104.0g 254208 150820 S  12.3   0.9  71:22.10 WebKitWebProces
    854 root      20   0 1323128 209552 123536 S  11.9   0.7  69:09.38 Xorg
   2486 xyzwps    20   0 5607584 290356 108148 S   3.0   1.0   2:59.63 warp-terminal
  19529 xyzwps    20   0 9076848   2.2g 608436 S   3.0   8.0  47:13.62 idea
 235305 xyzwps    20   0   33.0g 182196 117744 S   3.0   0.6   1:46.49 code
```

## 查看指定线程下的线程

```bash
$ top -H -p {pid}
top - 11:37:50 up 13:14,  1 user,  load average: 1.55, 1.89, 1.84
Threads: 104 total,   0 running, 104 sleeping,   0 stopped,   0 zombie
%Cpu(s):  3.8 us,  2.1 sy,  0.0 ni, 94.0 id,  0.0 wa,  0.0 hi,  0.1 si,  0.0 st
MiB Mem :  27819.0 total,  12191.4 free,   8860.2 used,   7336.9 buff/cache
MiB Swap:  16384.0 total,  14517.0 free,   1867.0 used.  18958.8 avail Mem

 进程号 USER      PR  NI    VIRT    RES    SHR    %CPU  %MEM     TIME+ COMMAND
  19594 xyzwps    20   0 9076848   2.2g 608436 S   0.7   8.0  12:55.10 AWT-EventQueue-
  19627 xyzwps    20   0 9076848   2.2g 608436 S   0.3   8.0   3:00.70 TimerQueue
 216807 xyzwps    20   0 9076848   2.2g 608436 S   0.3   8.0   0:06.31 DefaultDispatch
 227802 xyzwps    20   0 9076848   2.2g 608436 S   0.3   8.0   0:04.18 DefaultDispatch
 234929 xyzwps    20   0 9076848   2.2g 608436 S   0.3   8.0   0:04.48 DefaultDispatch
  19529 xyzwps    20   0 9076848   2.2g 608436 S   0.0   8.0   0:00.01 idea
  19533 xyzwps    20   0 9076848   2.2g 608436 S   0.0   8.0   0:00.49 idea
  19534 xyzwps    20   0 9076848   2.2g 608436 S   0.0   8.0   0:04.19 GC Thread#0
  19535 xyzwps    20   0 9076848   2.2g 608436 S   0.0   8.0   0:00.30 G1 Main Marker
  19536 xyzwps    20   0 9076848   2.2g 608436 S   0.0   8.0   0:20.99 G1 Conc#0
  19537 xyzwps    20   0 9076848   2.2g 608436 S   0.0   8.0   0:05.91 G1 Refine#0
```

TODO: pidof
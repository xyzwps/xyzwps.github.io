---
import DefaultLayout from "../../layouts/DefaultLayout.astro";

const LIST = [
  {
    title: "关于封存",
    href: "/ramblings/2025-11-30-feng-cun",
    summary: "最近即将实施的新《治安管理处罚法》第136条中关于【封存】的事情引起了不小的讨论，我斗胆瞎扯一下我的看法。",
  },
];

// 从路由提取日期
const extractDate = (href: string) => {
  const match = href.match(/(\d{4}-\d{2}-\d{2})/);
  return match ? match[1] : "";
};
---

<DefaultLayout title="乱弹">
  <div class="relative min-h-screen overflow-hidden" style="background: linear-gradient(135deg, #fdf8fb 0%, #faf5f9 50%, #f5f1f8 100%);">
    <!-- SVG 背景装饰 -->
    <svg
      class="absolute inset-0 w-full h-full opacity-4 pointer-events-none"
      viewBox="0 0 1200 800"
      preserveAspectRatio="xMidYMid slice"
    >
      <defs>
        <linearGradient id="pinkGradient" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#ec4899;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#f472b6;stop-opacity:1" />
        </linearGradient>
      </defs>

      <!-- 装饰圆形 - 稀疏、小、淡 -->
      <circle cx="80" cy="120" r="50" fill="url(#pinkGradient)" opacity="0.15" />
      <circle cx="1050" cy="680" r="70" fill="url(#pinkGradient)" opacity="0.12" />
      <circle cx="1150" cy="100" r="45" fill="url(#pinkGradient)" opacity="0.1" />

      <!-- 装饰线条 - 淡化 -->
      <path d="M -100 300 Q 300 250 700 300" stroke="url(#pinkGradient)" stroke-width="2" fill="none" opacity="0.15" />
      <path d="M 600 700 Q 900 720 1300 700" stroke="url(#pinkGradient)" stroke-width="2" fill="none" opacity="0.12" />

      <!-- 小装饰点 -->
      <circle cx="120" cy="200" r="8" fill="url(#pinkGradient)" opacity="0.1" />
      <circle cx="950" cy="350" r="6" fill="url(#pinkGradient)" opacity="0.08" />
    </svg>

    <!-- 内容区域 -->
    <div class="relative z-10 container mx-auto px-4 py-20">
      <!-- 标题区域 -->
      <div class="text-center mb-20">
        <h1 class="text-5xl font-bold bg-gradient-to-r from-pink-500 via-rose-400 to-pink-500 bg-clip-text text-transparent mb-6">
          乱弹
        </h1>
        <p class="text-rose-600 text-xl font-medium">✨ 想到哪儿，扯到哪儿 ✨</p>
      </div>

      <!-- 卡片网格 -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 max-w-6xl mx-auto">
        {
          LIST.map((it) => (
            <a href={it.href} class="group h-full">
              <article class="h-full bg-gradient-to-br from-white via-pink-50/50 to-rose-50/30 backdrop-blur-md border-2 border-pink-200/60 rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 transform hover:scale-105 hover:-translate-y-3">
                <div class="relative pt-16 px-12 pb-10 h-full flex flex-col">
                  <!-- 装饰角 - 可爱粉色 -->
                  <div class="absolute top-0 right-0 w-24 h-24 bg-gradient-to-bl from-pink-200/50 via-rose-100/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-full" />

                  <!-- 装饰小球 -->
                  <div class="absolute top-4 right-6 w-3 h-3 bg-pink-300 rounded-full opacity-40 group-hover:opacity-80 transition-opacity" />
                  <div class="absolute bottom-8 left-6 w-2 h-2 bg-rose-300 rounded-full opacity-30 group-hover:opacity-70 transition-opacity" />

                  <div class="relative z-10">
                    <h2 class="text-xl font-bold mb-4 text-black">
                      {it.title}
                    </h2>
                    <p class="text-gray-600 line-clamp-2 text-sm leading-relaxed">
                      {it.summary}
                    </p>
                  </div>

                  <div class="mt-auto pt-6 flex items-center justify-between">
                    <span class="text-pink-500 font-semibold group-hover:text-pink-600 inline-flex items-center gap-1 transition-colors text-sm">
                      阅读全文
                      <span class="group-hover:translate-x-1 transition-transform inline-block">→</span>
                    </span>
                    <span class="text-gray-500 text-xs">{extractDate(it.href)}</span>
                  </div>
                </div>
              </article>
            </a>
          ))
        }
      </div>
    </div>
  </div>
</DefaultLayout>
